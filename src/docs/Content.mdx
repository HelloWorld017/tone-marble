import ImageToneMarbleMain from './assets/images/tone-marble-main.webp';
import ImageTM07Structure from './assets/images/tm07-structure.png';
import { CirclesPanout } from './components/CirclesPanout';
import { Footer } from './components/Footer';
import { FullWidthImage } from './components/FullWidthImage';
import { SiriWave } from './components/SiriWave';
import { MotivationImages } from './components/MotivationImages'

<section>
  # TM-07 <span>: An unrealistic instrument</span>

  <a class="cta" href="../">Try it now</a>
</section>

<section>
  ## <i>01</i> A Modern Artifact <span>_ Precision engineering meets organic tranquility</span>

  The TM-07, while being an instrument, is a piece of desk sculpture designed to inspire.  
  The design language strips away the unnecessary, leaving only a sleek, pocketable form factor that bridges the gap between a high-fidelity audio tool and a modernist art object.  
  It looks as beautiful silent as it sounds when active.
</section>

<br />
<FullWidthImage class="main-image" src={ImageToneMarbleMain} />

<section>
  ## <i>02</i> Kinetic Synthesis Engine <span>_ The physics of sound, visualized and heard.</span>
  At the heart of the Tone-Marble is a gravity-defying physics engine.
  Tilt your mobile device to release a cascade of virtual marbles.
  As they collide with digital internal pillars, they trigger a generative soundscape based on three elemental textures: Wind, Glass, and Sand.  
  Your rhythms evolve with the angle of your hand.
</section>


<CirclesPanout />

<section>
  ## <i>03</i> Sympathetic Resonance <span>_ It listens, it harmonizes, it flows.</span>
  The TM-07 creates a dialogue with its player. Utilizing a microphone or MIDI, the device detects your vocal pitch or instrumental input and instantly tunes the virtual marbles to a matching key, creating a seamless harmony.  

  As you increase the velocity of the rolling marbles, the TM-07 introduces a dynamic layer of lo-fi crackle and rhythmic static, syncing the background noise to the physical speed of the simulation. It is the perfect companion for finding focus in chaos.
</section>

<SiriWave />

<Footer />

<div style={{ height: "500px" }} />

<section>
**Final Project**  
2025 Fall CTP.40031  
`Yohan Kim`

<br />

Above is the landing page illustrating my final project, with a concept of a virtual product from a fictional company.

### Motivation

I aimed to create a polished, yet unrealistic, instrument.
While brainstorming, the following influences got into my mind, and helped make my abstract ideas concrete.

<br />
<MotivationImages />
<br />

* **Rainstick** / **Marbles Automata**  
  Provided the core concept.

* **Pinball**  
  Inspired the mechanic of triggering sounds upon marble collisions.

* **Cactus Plush**  
  Inspired the speech-feedback loop mechanism.

* **Darth Vader Chrome Experiment**  
  Inspired the motion control idea.

* **Teenage Engineering**  
  Inspired the aesthetic design.

* **Shigure Ui**  
  Inspired the power on/off sound by her stream intro clip.  
  Additionally, her streams were excellent background companions for coding.

<br />

Essentially, this project is an experiment to determine if the chaotic nature of physics can sound musical when entropy is reduced â€” specifically by constraining the pitch.  

After conceiving the idea of stochastic sounds tuned to specific pitches, I was unsure if the result would be pleasing.
So I started by implementing a minimal pitch detector, recording the pitches, and synthesizing the output using the ChucK programming language.

And the result is: I became even more uncertain about its viability. Fortunately, after implementing the full project, the outcome was not as bad as I had feared.

### Main Idea

The TM-07's core concept is a **cascade of marbles**;  
When a marble collides with a pillar, a sound matching the current chroma feature plays.
There are three timbres: Winds, Glass, and Sand.  

The 'current chroma feature' is derived from pitch detectors or MIDI input.  
When a player sings, whistles, or plays a note, the system recognizes the chroma and tunes the synthesizers accordingly.

### Technical Details
The TM-07 consists of five layers:
<img src={ImageTM07Structure} alt="Layers" />

* **Chroma Detection**  
  Three chroma detection techniques are used: `Crepe`, `Spice` and `FFT`.  
  Initially, I tested neural pitch detectors (Crepe and Spice), but as their performance was suboptimal (likely because I used trimmed models), I created an ad-hoc FFT chroma detector.  
  You can select the preferred method in the settings.

* **Synthesis**  
  Three synthesizers implemented in WebAudio: `Wind`, `Glass` and `Sand`.
  These utilize additive & subtractive synthesis.  
  Synthesizers for `Lo-Fi Vinyl Scratch`, `Kick & Hi-hat`, and `Power Turn On/Off` (disclaimer: used in conjunction with a sound clip) are also implemented.

* **Controller**  
  Smartphone's motion data is sent directly to the laptop via WebRTC.
  Internally uses [PeerJS's signaling server](https://status.peerjs.com/), but except that, it is serverless.

* **Physics**  
  Detects collision strength and position, then synthesizes sound with stereo panning. Powered by the rapier3d physics engine.

* **Interface**  
  Handles user input and updates the internal state. The interface was modeled and rigged in Blender and rendered using react-three.


### Aesthetics / Fun / Attractive Aspects
Why don't you experience it firsthand?

<a class="cta" href="../">Try it now</a>  
<a class="cta secondary" href="https://github.com/HelloWorld017/tone-marble">Source Code</a>  
</section>

<div style={{ height: "20vh" }} />
